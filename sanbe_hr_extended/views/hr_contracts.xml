<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
        <menuitem
            id="hr.menu_human_resources_configuration"
            parent="hr.menu_hr_root"
            name="Configuration"
            groups="sanbe_hr_extended.group_hr_no_config_employee"/>
        <record id="sanbe_hr_contracts_form_attachment" model="ir.ui.view">
            <field name="name">sanbe.hr.contract.form.attachment</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_contract.hr_contract_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='date_start']" position="before">
                    <field name="no_pkwt"/>
                </xpath>
                <xpath expr="//group[@name='notes_group']" position="replace"/>

                <xpath expr="//field[@name='contract_type_id' and @groups='!hr_contract.group_hr_contract_manager']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='contract_type_id' and @groups='hr_contract.group_hr_contract_manager']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='contract_type_id']" position="after">
                    <label for="attachment_contract"/>
                    <field name="attachment_contract" widget="many2many_binary" nolabel="1"/>
                </xpath>
                <xpath expr="//page[@name='information']" position="attributes">
                    <Attribute name="invisible">1</Attribute>
                </xpath>
                <xpath expr="//div[@id='resource_calendar_warning']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='structure_type_id']" position="attributes">
                        <attribute name="invisible">1</attribute>
                        <attribute name="required">0</attribute>
                </xpath>
                <xpath expr="//field[@name='structure_type_id']" position="before">
                        <field name="sallary_amount"/>
                        <field name="nilai_pa" force_save="1" />
                        <field name="area" options="{'no_create': True,'no_create_edit': True}"/>
                        <field name="branch_id" options="{'no_create': True,'no_create_edit': True}"/>
                        <field name="branch_ids" invisible="1"/>
                        <field name="alldepartment" invisible="1"/>
                    <label for="ws_day" string="Contract Length"
                             />
                    <div class="o_row" >
                        <label for="ws_year" string="Year" />
                        <div class="o_row">
                            <field name="ws_year" readonly="1" force_save="1" />
                        </div>
                        <label for="ws_month" string="Month" />
                        <div class="o_row">
                            <field name="ws_month" readonly="1" force_save="1" />
                        </div>
                        <label for="ws_day" string="Day" />
                        <div class="o_row">
                            <field name="ws_day" readonly="1" force_save="1" />
                        </div>
                    </div>
                </xpath>
                <xpath expr="//field[@name='structure_type_id']" position="attributes">
                    <attribute name="required">0</attribute>
                     <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='struct_id']" position="attributes">
                    <attribute name="required">0</attribute>
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='hr_responsible_id']" position="before">
                    <field name="contracts_count" string="Contract Time"/>
                </xpath>
                <xpath expr="//group[@name='top_info_right']" position="before">
                    <group name="notes_groups" string="Notes">
                        <field name="notes" nolabel="1" colspan="2" placeholder="Type in notes about this contract..."/>
                    </group>
                </xpath>
                <xpath expr="//div[hasclass('oe_title')]" position="replace">

                    <div class="row justify-content-between position-relative w-100 m-0 mb-5">
                        <div class="oe_title mw-75 ps-0 pe-2">
                            <h1 class="d-flex flex-row align-items-center">
                                <field name="name" class="text-truncate"  placeholder="Contract Reference" required="True" style="font-size: min(4vw, 2.6rem);"/>
                                <field name="kanban_state"
                                    class="d-flex align-items-center"
                                    groups="!hr_contract.group_hr_contract_manager"
                                    widget="state_selection" readonly="1"/>
                                <field name="kanban_state"
                                    class="d-flex align-items-center"
                                    groups="hr_contract.group_hr_contract_manager"
                                    widget="state_selection" readonly="0"/>
                            </h1>
                            <h2>
                                <field name="contract_type_id" placeholder="Contract Type" nolabel="1"/>
                                <field name="number" placeholder="Contract Numbet" nolabel="1"/>
                            </h2>
                            <field name="company_id" groups="base.group_multi_company" invisible="1"/>
                        </div>
                        <div class="o_employee_avatar m-0 p-0">
                            
                        </div>
                    </div>

                        


                        <!-- <div class="oe_title pe-0 w-100 mw-100" name="title">
                            <h1 class="d-flex flex-row justify-content-between">
                                <field name="name" class="text-truncate" placeholder="Contract Reference"/>

                                <field name="kanban_state"
                                    class="d-flex align-items-center"
                                    groups="!hr_contract.group_hr_contract_manager"
                                    widget="state_selection" readonly="1"/>
                                <field name="kanban_state"
                                    class="d-flex align-items-center"
                                    groups="hr_contract.group_hr_contract_manager"
                                    widget="state_selection" readonly="0"/>
                            </h1>
                            <h1>
                                <field name="contract_type_id" placeholder="Contract Type" nolabel="1"/>
                            </h1>
                            <h2>
                                <field name="company_id" groups="base.group_multi_company" invisible="1"/>
                            </h2>

                        </div> -->
                </xpath>
                <xpath expr="//field[@name='department_id']" position="replace">
                    <field name="depart_id" readonly="state in ['open','close']"/>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='job_id']" position="replace">
                    <field name="depart_id" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='job_id']" position="replace">
                    <field name="job_id" readonly="state in ['open','close']"/>
                </xpath>
            </field>
        </record>
        <record id="sanbe_hr_contracts_form" model="ir.ui.view">
            <field name="name">sanbe.hr.contract.form</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_payroll_community.hr_contract_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='struct_id']" position="before">
                     <field name="alldepartment" invisible="1"/>
                </xpath>
                <xpath expr="//page[@name='information']" position="attributes">
                     <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>

        <record id="sanbe_hr_contracts_form_attachments" model="ir.ui.view">
            <field name="name">sanbe.hr.contract.form.attachments</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_contract.hr_contract_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='structure_type_id']" position="attributes">
                    <attribute name="required">0</attribute>
                     <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='date_start']" position="before">
                    <field name="nik"/>
                    <field name="nik_lama"/>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="replace">
                    <field name="employee_id" options="{'no_create': True,'no_create_edit': True}" context="{'search_by': 'No','search_by_name': False}" />
                </xpath>
                <xpath expr="//field[@name='name']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='contract_type_id']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='nik']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='nik_lama']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='date_start']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='date_end']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='notice_days']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='sallary_amount']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='nilai_pa']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='area']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='branch_id']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='attachment_contract']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='journal_id']" position="attributes">
                    <attribute name="readonly">state in ['open','close']</attribute>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="emp_name"/>
                </xpath>
            </field>
        </record>

        <record id="sanbe_hr_contracts_tree_ext" model="ir.ui.view">
            <field name="name">sanbe.hr.contract.tree.ext</field>
            <field name="model">hr.contract</field>
            <field name="inherit_id" ref="hr_contract.hr_contract_view_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="emp_id"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>