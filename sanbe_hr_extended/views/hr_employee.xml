<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <data>
<!--        <delete model="ir.ui.view" search="[('id','=', ref('sanbe_hr_extended.hr_employee_extended_form'))]"/>-->
        <record id="hr_employee_extended_form" model="ir.ui.view">
            <field name="name">hr.employee.extended.form</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_form" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='parent_id']" position="attributes">
                    <attribute name="string">Immediate Superior</attribute>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="before">
                    <field name="area" options="{'no_create': True,'no_create_edit': True}" />
                    <field name="branch_ids" invisible="1" />
                    <field name="alldepartment" invisible="1" />
                    <field name="branch_id" options="{'no_create': True,'no_create_edit': True}" />
                </xpath>
                <xpath expr="//field[@name='department_id']" position="replace">
                    <field name="department_id" options="{'no_create': True,'no_create_edit': True}" />
                    <field name="work_unit" />
                </xpath>
                <xpath expr="//field[@name='coach_id']" position="attributes">
                    <attribute name="string">Work Unit Superior</attribute>
                </xpath>
                <xpath expr="//field[@name='area']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
                <xpath expr="//field[@name='branch_id']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="attributes">
                    <attribute name="required">1</attribute>
                    <attribute name="options">{'no_create': True, 'no_open': True}</attribute>
                </xpath>
                <xpath expr="//field[@name='job_id']" position="attributes">
                    <attribute name="required">1</attribute>
                    <attribute name="domain">[('department_id','=',department_id)]</attribute>
                </xpath>
                <xpath expr="//field[@name='identification_id']" position="attributes">
                    <attribute name="required">0</attribute>
                </xpath>
                <xpath expr="//field[@name='marital']" position="replace">
                    <field name="marital" required="1" />
                </xpath>
                <xpath expr="//field[@name='birthday']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
                <xpath expr="//field[@name='gender']" position="attributes">
                    <attribute name="required">1</attribute>
                </xpath>
                <xpath expr="//field[@name='job_id']" position="attributes">
                    <attribute name="options">{'no_create': True, 'no_open': True}</attribute>
                </xpath>
                <xpath expr="//field[@name='identification_id']" position="after">
                    <field name="nik" required="1" readonly="1" force_save="1"/>
                    <field name="nik_lama" readonly="1" force_save="1"/>
                    <field name="no_ktp" required="1" />
                    <field name="doc_ktp" widget="many2many_binary" />
                    <field name="no_npwp" required="1" />
                    <field name="doc_npwp" widget="many2many_binary" />
                    <field name="nama_pekerjaans" invisible="1" />
                    <field name="no_sim" required="nama_pekerjaans =='Driver' " />
                </xpath>
                <xpath expr="//field[@name='certificate']" position="before">
                    <field name="title" />
                </xpath>
                <xpath expr="//field[@name='children']" position="attributes">
                    <attribute name="required">marital != False</attribute>
                </xpath>
                <xpath expr="//div[hasclass('oe_title')]" position="replace">
                    <div class="oe_title mw-75 ps-0 pe-2">
                        <label for="active" />
                        <!-- <h2>
                            <field name="active" widget="radio" />
                        </h2> -->
                        <h1>
                            <field name="employee_id" placeholder="Employee's ID"
                                required="id == False" style="font-size: min(4vw, 2.6rem);"
                                readonly="1" force_save="1" />
                        </h1>
                        <h1 class="d-flex flex-row align-items-center">
                            <div invisible="not user_id" class="me-2">
                                <widget name="hr_employee_chat"
                                    invisible="not context.get('chat_icon')" />
                            </div>

                            <field name="name" placeholder="Employee's Name" required="True"
                                style="font-size: min(4vw, 2.6rem);" />
                        </h1>
                        <field name="initial" placeholder="Employee Initial" />
                    </div>
                </xpath>
                <xpath expr="//page[@name='personal_information']/group/group[1]"
                    position="attributes">
                    <attribute name="string">Private</attribute>
                </xpath>
                <xpath expr="//field[@name='private_email']" position="after">
                    <field name="berat_badan" />
                    <field name="tinggi_badan" />
                </xpath>
                <xpath expr="//field[@name='parent_id']" position="attributes">
                    <attribute name="option">{'no_create': True}</attribute>
                </xpath>
                <xpath expr="//page[@name='personal_information']/group/group[3]" position="after">
                    <group string="Job Status">
                        <field name="kpi_kategory" />
                        <field name="job_status" />
                        <field name="emp_status" readonly="emp_status not in ['probation','confirmed']"/>
                        <field name="first_date_join"/>
                        <field name="join_date" required="job_status =='permanent'" />
                        <field name="contract_id" invisible="job_status !='contract'"
                            required="job_status =='contract'"
                            context="{'is_employee': 1,'employee_name': name,'area': area,'branch': branch_id,'department': department_id,'job_id': job_id}" />
                        <field name="contract_datefrom" invisible="job_status !='contract'" />
                        <field name="contract_dateto" string="End Of Contract Date" invisible="job_status !='contract'" />
                        <field name="contracts_count" string="Contract Time"
                            invisible="job_status !='contract'" />
                        <label for="ws_day" string="Working Service"
                            invisible="job_status !='permanent'" />
                        <div class="o_row" invisible="job_status !='permanent'">
                            <label for="ws_year" string="Year" />
                            <div class="o_row">
                                <field name="ws_year" readonly="1" force_save="1" />
                            </div>
                            <label for="ws_month" string="Month" />
                            <div class="o_row">
                                <field name="ws_month" readonly="1" force_save="1" />
                            </div>
                            <label for="ws_day" string="Day" />
                            <div class="o_row">
                                <field name="ws_day" readonly="1" force_save="1" />
                            </div>
                        </div>
                        <field name="employee_levels"
                            options="{'no_create': True,'no_quick_create': True}" />
                        <field name="employee_group1" string="Employee P Group"/>
                        <field name="apoteker"
                            invisible="employee_group1 !='group3'" />
                        <field name="attachment_contract" invisible="1" />
                    </group>
                </xpath>
                <xpath expr="//field[@name='gender']" position="replace" />
                <xpath expr="//field[@name='private_phone']" position="before">
                    <field name="gender" />
                </xpath>
                <xpath expr="//field[@name='identification_attachment_ids']" position="after">
                    <field name="religion" required="1" />
                </xpath>
                <xpath expr="//field[@name='religion']" position="after">
                    <field name="insurance" />
                </xpath>
                <xpath expr="//field[@name='insurance']" position="after">
                    <field name="jamsostek" />
                </xpath>
                <xpath expr="//field[@name='jamsostek']" position="after">
                    <field name="ptkp" />
                </xpath>
                <xpath expr="//field[@name='title']" position="after">
                    <field name="back_title" />
                </xpath>
                <xpath expr="//field[@name='title']" position="attributes">
                    <attribute name="string">Front Title</attribute>
                </xpath>
                <xpath expr="//page[@name='personal_information']" position="after">
                    <page name="Benefit / Allowance " class="o_hr_contract_salary_information">
                        <group name="salary_info">
                            <group string="Allowance">
                                <field name="attende_premie"/>
                                <field name="allowance_jemputan" />
                                <field name="allowance_ot" />
                                <field name="allowance_transport" />
                                <field name="allowance_meal" />
                                <field name="allowance_night_shift"/>
                                <field name="allowance_nightshift_amount" invisible="allowance_night_shift == False"/>
                            </group>
                            <group string="Remarks">
                                <field name="attende_premie_amount" invisible="attende_premie == False" required="attende_premie == True"/>
                                <field name="jemputan_remarks" />
                                <field name="ot_remarks" />
                                <field name="transport_remarks" />
                                <field name="meal_remarks" />
                                <field name="allowance_nightshift_remarks"/>
                            </group>
                        </group>
                    </page>
                </xpath>
            </field>
        </record>
        <record id="hr_employee_extended_tree" model="ir.ui.view">
            <field name="name">hr.employee.extended.tree</field>
            <field name="model">hr.employee</field>
            <field name="inherit_id" ref="hr.view_employee_tree" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='name']" position="before">
                    <field name="employee_id" readonly="1"/>
                    <field name="nik" />
                    <field name="no_ktp" />
                </xpath>
                <xpath expr="//field[@name='job_id']" position="replace" />
                <xpath expr="//field[@name='department_id']" position="after">
                    <field name="alldepartment" column_invisible="1" />
                    <field name="job_id" />
                    <field name="job_status"/>
                    <field name="emp_status" />
                    <field name="employee_levels"/>
                    <field name="employee_group1"/>
                </xpath>
                <xpath expr="//field[@name='work_phone']" position="replace" />
                <xpath expr="//field[@name='work_email']" position="replace" />
                <xpath expr="//field[@name='company_id']" position="replace" >
                         <field name="company_id" groups="base.group_multi_company"/>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="replace" />
                <xpath expr="//field[@name='job_id']" position="replace" />
                <xpath expr="//field[@name='parent_id']" position="replace" />
                <xpath expr="//field[@name='coach_id']" position="replace" />
            </field>
        </record>
        <record id="hr_jobs_extended_tree" model="ir.ui.view">
            <field name="name">hr.jobs.tree</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="hr.view_hr_job_tree" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='department_id']" position="before">
                    <field name="area"/>
                    <field name="branch_id" />
                </xpath>
            </field>
        </record>
        <record id="hr_jobs_branch_extended_form" model="ir.ui.view">
            <field name="name">hr.jobs.branch.form</field>
            <field name="model">hr.job</field>
            <field name="inherit_id" ref="hr.view_hr_job_form" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='department_id']" position="before">
                    <field name="area" options="{'no_create': True, 'no_open': True}"/>
                    <field name="branch_ids" invisible="1"/>
                    <field name="branch_id" options="{'no_create': True, 'no_open': True}"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>